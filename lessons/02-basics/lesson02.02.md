# Ввод и вывод в С++

## Совместимость с C

В C++ можно использовать функции ввода-вывода из языка C. Например, функции `printf` и `scanf`:

```cpp
#include <cstdio>

int main() {
    int a;
    scanf("%d", &a);
    printf("a = %d\n", a);
    return 0;
}
```

## Библиотека `<iostream>`

В стандартной библиотеке C++ есть библиотека `<iostream>`, которая предоставляет объекты `cin` и `cout` для ввода и вывода данных. Эти объекты являются экземплярами классов `istream` и `ostream` соответственно. Для них перегружены операторы `<<` и `>>`, что позволяет использовать их в качестве потоков ввода и вывода.

```cpp
#include <iostream>

int main() {
    int a;
    std::cin >> a;
    std::cout << "a = " << a << std::endl;
    return 0;
}
```

Здесь `std::endl` - выполняет перевод строки и сброс буфера вывода.

Если необходимо вводить и выводить несколько переменных, то можно использовать цепочку операторов `<<` и `>>`:

```cpp
#include <iostream>

int main() {
    int a, b;
    std::cin >> a >> b;
    std::cout << "a = " << a << ", b = " << b << std::endl;
    return 0;
}
```

Это возможно благодаря тому, что операторы `<<` и `>>` возвращают ссылку на объект, к которому они применены. То есть, в выражении `std::cin >> a >> b` сначала выполняется `std::cin >> a`, результатом которого является объект `std::cin`, к которому потом применяется оператор `>> b`. Аналогично происходит вычисления для `std::cout`.

Важно отметить, что ввод и вывод с использованием `cin` и `cout` является буферизованным. Это означает, что данные сначала записываются в буфер, а затем выводятся на экран. Для того чтобы данные были сразу выведены на экран, можно использовать метод `std::flush`:

```cpp
#include <iostream>

int main() {
    int a;
    std::cin >> a;
    std::cout << "a = " << a << std::flush;
    return 0;
}
```

Без использования `std::flush` данные могут автоматически выводиться на экран в следующих случаях:

- При использовании `std::endl` в качестве аргумента для `std::cout`
- Завершении программы
- Переполнении буфера

По умолчанию, ввод и вывод с использованием `cin` и `cout` является форматированным. Это означает, что данные вводятся и выводятся в определенном формате в зависимости от типа данных. Для изменения формата ввода и вывода можно использовать манипуляторы потоков. Подробнее о них можно прочитать в [документации](https://en.cppreference.com/w/cpp/io/manip).

## Библиотека `<print>` (`C++20`)

В стандарте `C++20` появилась библиотека `<print>`, которая предоставляет функции для форматированного вывода данных, схожие с функциями `printf` из языка `C`. Рассмотрим пример:

```cpp
#include <print>

int main() {
    int a = 42;
    std::print("a = {}\n", a);
    std::println("a = {}", a);
    return 0;
}
```

// TODO: добавить примеры с манипуляторами потоков